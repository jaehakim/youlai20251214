#!/usr/bin/env python3
# -*- coding: utf-8 -*-
import os
import glob

# Additional translations for missing items
ADDITIONAL_TRANS = {
    # Complete phrases
    '解析自然语言명령': '자연어 명령 파싱',
    '执行已解析的명령': '파싱된 명령 실행',
    '조회AI 명령记录페이지 목록': 'AI 명령 기록 페이지 목록 조회',
    '撤销명령 실행': '명령 실행 취소',
    '记录ID': '기록 ID',
    '조회数据表페이지 목록': '데이터 테이블 페이지 목록 조회',
    '表名': '테이블명',
    '조회预览生成코드': '생성 코드 미리보기 조회',
    '폼파일对象': '폼 파일 객체',
    '회话 ID': '세션 ID',
    '连接时间戳': '연결 타임스탬프',
    '회话数量': '세션 수',
    '首次로그인时间': '최초 로그인 시간',
    '发送자': '발송자',
    '时间戳': '타임스탬프',
    '조회시스템 설정폼数据': '시스템 설정 폼 데이터 조회',
    '부서下拉목록': '부서 드롭다운 목록',
    '조회부서폼数据': '부서 폼 데이터 조회',
    '조회사전폼数据': '사전 폼 데이터 조회',
    '사전ID，多个以英文逗号(,)拼접': '사전 ID, 여러 개는 영문 쉼표(,)로 연결',
    '사전编码': '사전 코드',
    '사전 항목폼数据': '사전 항목 폼 데이터',
    '조회访问趋势': '접근 추세 조회',
    '开始时间': '시작 시간',
    '结束时间': '종료 시간',
    '조회访问통계': '접근 통계 조회',
    '메뉴下拉목록': '메뉴 드롭다운 목록',
    '是否只조회父级메뉴': '부모 메뉴만 조회 여부',
    '当前사용자메뉴라우트 목록': '현재 사용자 메뉴 라우트 목록',
    '메뉴폼数据': '메뉴 폼 데이터',
    '메뉴ID，多个以英文(,)分割': '메뉴 ID, 여러 개는 영문(,)로 구분',
    '수정메뉴显示상태': '메뉴 표시 상태 수정',
    '显示상태(1:显示;0:隐藏)': '표시 상태(1:표시;0:숨김)',
    '조회공지사항폼数据': '공지사항 폼 데이터 조회',
    '阅读조회공지사항상세': '공지사항 상세 읽기 조회',
    '공지사항ID，多个以英文逗号(,)분割': '공지사항 ID, 여러 개는 영문 쉼표(,)로 구분',
    '조회我的공지사항페이지 목록': '내 공지사항 페이지 목록 조회',
    '역할下拉목록': '역할 드롭다운 목록',
    '조회역할폼数据': '역할 폼 데이터 조회',
    '삭제역할，多个以英文逗号(,)拼접': '역할 삭제, 여러 개는 영문 쉼표(,)로 연결',
    '조회역할的메뉴ID集合': '역할의 메뉴 ID 집합 조회',
    '사용자페이지 목록': '사용자 페이지 목록',
    '추가사용자': '사용자 추가',
    '조회사용자폼数据': '사용자 폼 데이터 조회',
    '수정사용자': '사용자 수정',
    '삭제사용자': '사용자 삭제',
    '修改사용자상태': '사용자 상태 수정',
    '조회当前로그인사용자 정보': '현재 로그인 사용자 정보 조회',
    '사용자 가져오기模板다운로드': '사용자 가져오기 템플릿 다운로드',
    '가져오기사용자': '사용자 가져오기',
    '내보내기사용자': '사용자 내보내기',
    '조회개인센터사용자 정보': '개인센터 사용자 정보 조회',
    '개인센터수정사용자 정보': '개인센터 사용자 정보 수정',
    '重置指정사용자비밀번호': '지정 사용자 비밀번호 재설정',
    '当前사용자비밀번호 변경': '현재 사용자 비밀번호 변경',
    '发送SMS인증코드（绑정或更换휴대폰 번호）': 'SMS 인증코드 전송(휴대폰 번호 바인딩 또는 변경)',
    '绑정或更换휴대폰 번호': '휴대폰 번호 바인딩 또는 변경',
    '发送이메일인증코드（绑정或更换이메일）': '이메일 인증코드 전송(이메일 바인딩 또는 변경)',
    '绑정或更换이메일': '이메일 바인딩 또는 변경',
    '조회사용자드롭다운 옵션': '사용자 드롭다운 옵션 조회',

    # Individual Chinese characters remaining
    '数据': '데이터',
    '表名': '테이블명',
    '记录': '기록',
    '对象': '객체',
    '数': '수',
    '会话': '세션',
    '首次': '최초',
    '时间': '시간',
    '发送': '발송',
    '多个': '여러 개',
    '以': '는',
    '英文': '영문',
    '逗号': '쉼표',
    '拼接': '로 연결',
    '分割': '로 구분',
    '父级': '부모',
    '是否': '여부',
    '只': '만',
    '显示': '표시',
    '隐藏': '숨김',
    '访问': '접근',
    '趋势': '추세',
    '开始': '시작',
    '结束': '종료',
    '编码': '코드',
    '阅读': '읽기',
    '我的': '내',
    '当前': '현재',
    '的': '의',
    '集합': '집합',
    '重置': '재설정',
    '指정': '지정',
    '模板': '템플릿',
    '绑정': '바인딩',
    '或': '또는',
    '更换': '변경',
}

# Sort by length (longest first)
trans_sorted = sorted(ADDITIONAL_TRANS.items(), key=lambda x: len(x[0]), reverse=True)

BASE_PATH = r"C:\TMP\2025121401_youlai_4\youlai20251214\youlai-boot\src\main\java\com\youlai\boot"

count = 0
for root, dirs, files in os.walk(BASE_PATH):
    for file in files:
        if file.endswith('.java') and ('controller' in root or 'service' in root):
            fpath = os.path.join(root, file)
            try:
                with open(fpath, 'r', encoding='utf-8') as f:
                    content = f.read()
                orig = content
                for cn, kr in trans_sorted:
                    content = content.replace(cn, kr)
                if content != orig:
                    with open(fpath, 'w', encoding='utf-8') as f:
                        f.write(content)
                    count += 1
                    print(f'[OK] {os.path.relpath(fpath, BASE_PATH)}')
            except Exception as e:
                print(f'[ERROR] {fpath}: {e}')

print(f'\nTotal files updated: {count}')
