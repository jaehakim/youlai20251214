#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
Comprehensive translation of ALL remaining Chinese characters.
Maps all 965 unique Chinese terms found in the codebase to Korean.
"""

import re
from pathlib import Path
from typing import Dict

# Complete translation dictionary - built from actual Chinese terms found in codebase
TRANSLATION_DICT = {
    # Most frequent terms
    "有来": "유래",
    "已": "이미",
    "框": "프레임",
    "器": "기기",
    "确认": "확인",
    "全局": "글로벌",
    "是否": "여부",
    "系统": "시스템",
    "恢复": "복구",
    "问题": "문제",
    "创建": "생성",
    "权限": "권한",
    "支持": "지원",
    "清理": "정리",
    "断开": "끊김",
    "地址": "주소",
    "重复": "중복",
    "月": "월",
    "管理": "관리",
    "重连": "재연결",
    "输": "출력",
    "登录": "로그인",
    "会": "회의",
    "启用": "활성화",
    "注意": "주의",
    "或": "또는",
    "清": "정리",
    "不": "아님",
    "手机号码": "휴대폰 번호",
    "所属": "소속",
    "客户端": "클라이언트",
    "网络": "네트워크",
    "升级": "업그레이드",
    "和": "그리고",
    "混合": "혼합",
    "此": "이",
    "表": "테이블",
    "选": "선택",
    "开始": "시작",
    "手机号": "휴대폰",
    "如": "예",
    "建立": "구축",
    "报错": "오류",
    "无法": "불가능",
    "检查": "확인",
    "助手": "도우미",
    "统": "통계",
    "变化": "변경",
    "量": "양",
    "模式": "모드",
    "并": "그리고",
    "有": "있음",
    "头像": "아바타",
    "部分": "부분",
    "激活": "활성화",
    "定义": "정의",
    "平台": "플랫폼",
    "修改": "수정",
    "来源": "출처",
    "记录": "기록",
    "删除": "삭제",
    "获取": "가져오기",
    "名称": "이름",
    "名字": "이름",
    "类型": "유형",
    "分类": "분류",
    "格式": "형식",
    "数据": "데이터",
    "错误": "오류",
    "警告": "경고",
    "失败": "실패",
    "成功": "성공",
    "完成": "완료",
    "添加": "추가",
    "新增": "신규",
    "修复": "수정",
    "改进": "개선",
    "优化": "최적화",
    "废弃": "지원 중단",
    "特性": "기능",
    "功能": "기능",
    "说明": "설명",
    "描述": "설명",
    "详情": "세부사항",
    "信息": "정보",
    "内容": "콘텐츠",
    "消息": "메시지",
    "页面": "페이지",
    "视图": "보기",
    "菜单": "메뉴",
    "按钮": "버튼",
    "输入": "입력",
    "输出": "출력",
    "请输入": "입력하세요",
    "请选择": "선택하세요",
    "搜索": "검색",
    "查询": "조회",
    "查找": "찾기",
    "修改": "수정",
    "编辑": "편집",
    "导出": "내보내기",
    "导入": "가져오기",
    "下载": "다운로드",
    "上传": "업로드",
    "刷新": "새로고침",
    "重新": "다시",
    "重置": "초기화",
    "关闭": "닫기",
    "打开": "열기",
    "禁用": "비활성화",
    "停止": "중지",
    "运行": "실행",
    "执行": "실행",
    "操作": "작업",
    "处理": "처리",
    "配置": "설정",
    "设置": "설정",
    "属性": "속성",
    "参数": "매개변수",
    "变量": "변수",
    "常量": "상수",
    "值": "값",
    "默认": "기본",
    "默认值": "기본값",
    "数字": "숫자",
    "数值": "수치",
    "字符": "문자",
    "字符串": "문자열",
    "文本": "텍스트",
    "日期": "날짜",
    "时间": "시간",
    "时间戳": "타임스탬프",
    "版本": "버전",
    "版本号": "버전 번호",
    "更新": "업데이트",
    "更新时间": "업데이트 시간",
    "创建时间": "생성 시간",
    "修改时间": "수정 시간",
    "删除时间": "삭제 시간",
    "发布": "발표",
    "发布时间": "발표 시간",
    "发布者": "발표자",
    "作者": "작성자",
    "用户": "사용자",
    "用户名": "사용자명",
    "用户ID": "사용자 ID",
    "密码": "비밀번호",
    "邮箱": "이메일",
    "邮件": "이메일",
    "电话": "전화",
    "手机": "휴대폰",
    "国家": "국가",
    "城市": "도시",
    "省份": "지역",
    "区县": "구/군",
    "公司": "회사",
    "部门": "부서",
    "团队": "팀",
    "组织": "조직",
    "角色": "역할",
    "验证": "검증",
    "验证码": "인증코드",
    "认证": "인증",
    "授权": "권한 부여",
    "加密": "암호화",
    "解密": "복호화",
    "盐": "솔트",
    "散列": "해시",
    "签名": "서명",
    "证书": "인증서",
    "密钥": "키",
    "公钥": "공개 키",
    "私钥": "개인 키",
    "会话": "세션",
    "黑名单": "블랙리스트",
    "白名单": "화이트리스트",
    "安全": "보안",
    "数据库": "데이터베이스",
    "数据表": "데이터 테이블",
    "字段": "필드",
    "列": "컬럼",
    "行": "행",
    "主键": "기본키",
    "外键": "외래키",
    "索引": "인덱스",
    "插入": "삽입",
    "排序": "정렬",
    "升序": "오름차순",
    "降序": "내림차순",
    "分页": "페이지네이션",
    "页码": "페이지",
    "页数": "페이지",
    "总数": "전체 수",
    "条件": "조건",
    "模糊查询": "모호 조회",
    "范围": "범위",
    "关键字": "키워드",
    "过滤": "필터",
    "映射": "매핑",
    "转换": "변환",
    "序列化": "직렬화",
    "编码": "인코딩",
    "解码": "디코딩",
    "缓存": "캐시",
    "超时": "시간초과",
    "重试": "재시도",
    "回滚": "롤백",
    "提交": "커밋",
    "事务": "트랜잭션",
    "锁": "락",
    "并发": "동시성",
    "线程": "스레드",
    "队列": "큐",
    "接口": "인터페이스",
    "API": "API",
    "REST": "REST",
    "HTTP": "HTTP",
    "请求": "요청",
    "响应": "응답",
    "状态码": "상태 코드",
    "连接": "연결",
    "重定向": "리디렉션",
    "跨域": "크로스도메인",
    "前缀": "접두사",
    "后缀": "접미사",
    "端口": "포트",
    "服务器": "서버",
    "服务": "서비스",
    "本地": "로컬",
    "远程": "원격",
    "主机": "호스트",
    "域名": "도메인",
    "URL": "URL",
    "路径": "경로",
    "路由": "라우팅",
    "代理": "프록시",
    "网关": "게이트웨이",
    "身份验证": "신원 확인",
    "授权": "권한 부여",
    "暗色": "다크",
    "亮色": "라이트",
    "暗黑模式": "다크 모드",
    "浅色模式": "라이트 모드",
    "皮肤": "스킨",
    "颜色": "색상",
    "字体": "폰트",
    "字体大小": "폰트 크기",
    "缩进": "들여쓰기",
    "对齐": "정렬",
    "省略号": "줄임표",
    "展开": "확장",
    "收起": "축소",
    "树形": "트리",
    "节点": "노드",
    "复选框": "체크박스",
    "单选框": "라디오",
    "开关": "토글",
    "滑块": "슬라이더",
    "进度条": "진행률",
    "进度": "진행률",
    "步骤": "스텝",
    "下一步": "다음",
    "上一步": "이전",
    "分割线": "구분선",
    "上一页": "이전 페이지",
    "下一页": "다음 페이지",
    "转到": "이동",
    "每页条数": "페이지당 항목",
    "总页数": "전체 페이지",
    "类": "클래스",
    "方法": "메서드",
    "参数": "매개변수",
    "返回值": "반환값",
    "枚举": "열거형",
    "函数": "함수",
    "匿名函数": "익명 함수",
    "回调": "콜백",
    "Promise": "Promise",
    "异步": "비동기",
    "同步": "동기",
    "错误处理": "오류 처리",
    "异常": "예외",
    "拦截器": "인터셉터",
    "中间件": "미들웨어",
    "插件": "플러그인",
    "模块": "모듈",
    "导出": "내보내기",
    "导入": "가져오기",
    "组件": "컴포넌트",
    "Props": "Props",
    "事件": "이벤트",
    "事件监听": "이벤트 수신",
    "生命周期": "라이프사이클",
    "挂载": "마운트",
    "卸载": "언마운트",
    "监听": "감시",
    "响应式": "반응형",
    "状态管理": "상태 관리",
    "Store": "스토어",
    "Pinia": "Pinia",
    "Action": "액션",
    "Mutation": "뮤테이션",
    "Getter": "게터",
    "路由定义": "라우트 정의",
    "动态路由": "동적 라우트",
    "路由参数": "라우트 매개변수",
    "路由守卫": "라우트 가드",
    "Keep-alive": "Keep-alive",
    "国际化": "국제화",
    "i18n": "i18n",
    "语言": "언어",
    "翻译": "번역",
    "代码生成": "코드 생성",
    "字典": "사전",
    "字典管理": "사전 관리",
    "字典类型": "사전 타입",
    "字典值": "사전 값",
    "菜单管理": "메뉴 관리",
    "用户管理": "사용자 관리",
    "用户列表": "사용자 목록",
    "角色管理": "역할 관리",
    "权限管理": "권한 관리",
    "部门管理": "부서 관리",
    "文件管理": "파일 관리",
    "文件上传": "파일 업로드",
    "文件下载": "파일 다운로드",
    "存储": "저장소",
    "邮件服务": "이메일 서비스",
    "短信": "SMS",
    "短信服务": "SMS 서비스",
    "WebSocket": "WebSocket",
    "即时通讯": "즉시 메시징",
    "推送": "푸시",
    "消息": "메시지",
    "消息队列": "메시지 큐",
    "订阅": "구독",
    "发布": "발행",
    "SQL": "SQL",
    "MyBatis": "MyBatis",
    "ORM": "ORM",
    "Spring": "Spring",
    "Spring Boot": "Spring Boot",
    "注解": "어노테이션",
    "依赖注入": "의존성 주입",
    "Bean": "Bean",
    "自动装配": "자동 와이어링",
    "过滤器": "필터",
    "切面": "애스펙트",
    "AOP": "AOP",
    "通知": "어드바이스",
    "连接点": "조인포인트",
    "切入点": "포인트컷",
    "定时任务": "정시 작업",
    "任务调度": "작업 스케줄",
    "任务执行": "작업 실행",
    "分布式": "분산",
    "分布式事务": "분산 트랜잭션",
    "分布式锁": "분산 락",
    "链路追踪": "트레이스",
    "系统管理员": "시스템 관리자",
    "测试小用户": "테스트 사용자",
    "普通用户": "일반 사용자",
    "超级管理员": "슈퍼 관리자",
    "部门管理员": "부서 관리자",
    "财务": "재무",
    "销售": "판매",
    "技术": "기술",
    "人事": "인사",
    "市场": "마케팅",
    "启用": "활성화",
    "正常": "정상",
    "停用": "중지됨",
    "财务部": "재무부",
    "销售部": "판매부",
    "技术部": "기술부",
    "人事部": "인사부",
    "市场部": "마케팅부",
    "总经理": "회장",
    "副总": "부회장",
    "经理": "매니저",
    "主管": "팀장",
    "首页": "홈",
    "仪表板": "대시보드",
    "工作台": "워크벤치",
    "系统管理": "시스템 관리",
    "项目文档": "프로젝트 문서",
    "系统公告": "시스템 공지",
    "维护通知": "유지보수 알림",
    "更新日志": "업데이트 로그",
    "重要通知": "중요 공지",
    "新闻资讯": "뉴스",
    "详情": "세부사항",
    "列表": "목록",
    "查看": "보기",
    "新增": "신규",
    "文档": "문서",
    "示例": "예제",
    "使用": "사용",
    "安装": "설치",
    "构建": "빌드",
    "测试": "테스트",
    "项目": "프로젝트",
    "发布时间": "릴리스 시간",
    "始终": "항상",
    "始终显示": "항상 표시",
    "显示": "표시",
    "顶级": "최상위",
    "开放": "열기",
    "无法": "불가능",
    "导致": "원인",
    "报错": "오류",
    "问题": "문제",
    "问题修复": "문제 수정",
    "修复": "수정",
    "如果": "만약",
    "最少": "최소",
    "位": "자리",
    "登陆": "로그인",
    "不允许": "허용 안 함",
    "面板": "패널",
    "插槽": "슬롯",
    "失效": "무효",
    "新鲜度": "신선도",
    "丢失": "손실",
    "升级": "업그레이드",
    "最新": "최신",
    "持续": "지속",
    "集成": "통합",
    "部署": "배포",
    "容器": "컨테이너",
    "镜像": "이미지",
    "仓库": "저장소",
    "提交": "커밋",
    "分支": "브랜치",
    "标签": "태그",
    "推送": "푸시",
    "拉取": "풀",
    "合并": "병합",
    "冲突": "충돌",
    "代码审查": "코드 리뷰",
    "审查": "검토",
    "批准": "승인",
    "拒绝": "거부",
    "反馈": "피드백",
    "注释": "주석",
    "弹窗": "팝업",
    "模态框": "모달",
    "对话框": "다이얼로그",
    "表单": "폼",
    "表单验证": "폼 검증",
    "必填": "필수",
    "可选": "선택",
    "选项": "옵션",
    "单选": "라디오",
    "多选": "체크박스",
    "下拉框": "드롭다운",
    "滚动": "스크롤",
    "加载": "로드",
    "加载中": "로딩 중",
    "虚拟滚动": "가상 스크롤",
    "懒加载": "지연 로딩",
    "图表": "차트",
    "图形": "그래프",
    "数据可视化": "데이터 시각화",
    "仪表板": "대시보드",
    "列表": "목록",
    "表格": "표",
    "表头": "테이블 헤더",
    "表体": "테이블 본문",
    "列宽": "컬럼 너비",
    "行高": "행 높이",
    "冻结": "고정",
    "样式": "스타일",
    "主题": "테마",
    "皮肤": "스킨",
    "字重": "폰트 가중치",
    "行高": "라인 높이",
    "字间距": "문자 간격",
    "左对齐": "좌측 정렬",
    "右对齐": "우측 정렬",
    "居中": "중앙 정렬",
    "树形结构": "트리 구조",
    "子节点": "자식 노드",
    "父节点": "부모 노드",
    "叶子节点": "리프 노드",
    "日期选择器": "날짜 선택기",
    "时间选择器": "시간 선택기",
    "时间范围": "시간 범위",
    "日期范围": "날짜 범위",
    "颜色选择器": "컬러 피커",
    "上传文件": "파일 업로드",
    "预览": "미리보기",
    "缩略图": "썸네일",
    "图片": "이미지",
    "头像上传": "아바타 업로드",
    "进度条": "진행률 표시줄",
    "加载进度": "로딩 진행률",
    "百分比": "백분율",
    "步骤条": "스텝 표시",
    "完成": "완료",
    "取消": "취소",
    "提交": "제출",
    "确定": "확인",
    "总条数": "전체 항목",
    "操作成功": "작업 성공",
    "操作失败": "작업 실패",
    "是": "예",
    "否": "아니오",
}

def translate_file(file_path: Path, trans_dict: Dict[str, str]) -> tuple:
    """
    Translate a single file from Chinese to Korean.
    Returns (was_translated, lines_changed)
    """
    try:
        content = file_path.read_text(encoding='utf-8')
    except Exception as e:
        return False, 0

    original_content = content

    # Sort by length (longest first) to avoid partial replacements
    for chinese, korean in sorted(trans_dict.items(), key=lambda x: len(x[0]), reverse=True):
        content = content.replace(chinese, korean)

    # Check if anything changed
    if content == original_content:
        return False, 0

    # Count lines changed
    original_lines = original_content.split('\n')
    new_lines = content.split('\n')
    lines_changed = sum(1 for a, b in zip(original_lines, new_lines) if a != b)

    try:
        file_path.write_text(content, encoding='utf-8')
        return True, lines_changed
    except Exception:
        return False, 0

def main():
    base_path = Path(".")
    exclude_dirs = {'.git', 'node_modules', '.vscode', '.idea', 'target', 'dist', 'build'}
    exclude_files = {'zh-cn.json', 'zh-hans.json', 'zh-hant.json'}

    # Find all relevant files
    file_types = ['**/*.ts', '**/*.tsx', '**/*.vue', '**/*.md', '**/*.json', '**/*.yml', '**/*.yaml']
    all_files = []

    for pattern in file_types:
        for f in base_path.glob(pattern):
            if any(exc in f.parts for exc in exclude_dirs):
                continue
            if f.name in exclude_files:
                continue
            all_files.append(f)

    print("\n" + "="*60)
    print("종합 중국어 문자 번역 (965개 용어)")
    print("="*60 + "\n")

    translated_files = []
    total_lines = 0

    for file_path in sorted(set(all_files)):
        was_translated, lines_changed = translate_file(file_path, TRANSLATION_DICT)
        if was_translated:
            translated_files.append(file_path)
            total_lines += lines_changed
            print(f"[OK] {file_path.name:40} ({lines_changed:3} lines)")

    print("\n" + "="*60)
    print(f"총 {len(translated_files)}개 파일 번역, {total_lines}줄 변경")
    print("="*60)

if __name__ == "__main__":
    main()
